{"dependencies":[{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}},{"name":"expo-device","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":53},"end":{"line":2,"column":38,"index":91}}],"key":"bBpmAhO1g++sdeUzQmFVGoQIVwg=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"./api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":133},"end":{"line":4,"column":37,"index":170}}],"key":"FbKPDeRJ9TF3vg1eKYKz12urgic=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"registerForPushNotificationsAsync\", {\n    enumerable: true,\n    get: function () {\n      return registerForPushNotificationsAsync;\n    }\n  });\n  Object.defineProperty(exports, \"unregisterPushNotifications\", {\n    enumerable: true,\n    get: function () {\n      return unregisterPushNotifications;\n    }\n  });\n  Object.defineProperty(exports, \"scheduleMedicationReminder\", {\n    enumerable: true,\n    get: function () {\n      return scheduleMedicationReminder;\n    }\n  });\n  Object.defineProperty(exports, \"cancelMedicationReminder\", {\n    enumerable: true,\n    get: function () {\n      return cancelMedicationReminder;\n    }\n  });\n  Object.defineProperty(exports, \"cancelAllNotifications\", {\n    enumerable: true,\n    get: function () {\n      return cancelAllNotifications;\n    }\n  });\n  var _expoNotifications = require(_dependencyMap[0], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  var _expoDevice = require(_dependencyMap[1], \"expo-device\");\n  var Device = _interopNamespace(_expoDevice);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _api = require(_dependencyMap[3], \"./api\");\n  var api = _interopDefault(_api);\n  // Configure notification handler\n  Notifications.setNotificationHandler({\n    handleNotification: async () => ({\n      shouldShowAlert: true,\n      shouldPlaySound: true,\n      shouldSetBadge: true\n    })\n  });\n  const registerForPushNotificationsAsync = async () => {\n    let token = null;\n    if (Platform.default.OS === 'android') {\n      await Notifications.setNotificationChannelAsync('default', {\n        name: 'default',\n        importance: Notifications.AndroidImportance.MAX,\n        vibrationPattern: [0, 250, 250, 250],\n        lightColor: '#FF231F7C'\n      });\n    }\n    if (Device.isDevice) {\n      const {\n        status: existingStatus\n      } = await Notifications.getPermissionsAsync();\n      let finalStatus = existingStatus;\n      if (existingStatus !== 'granted') {\n        const {\n          status\n        } = await Notifications.requestPermissionsAsync();\n        finalStatus = status;\n      }\n      if (finalStatus !== 'granted') {\n        console.log('Failed to get push token for push notification!');\n        return null;\n      }\n      try {\n        token = (await Notifications.getExpoPushTokenAsync()).data;\n        console.log('Push token:', token);\n\n        // Register token with backend\n        await api.default.post('/auth/push-token', {\n          token,\n          device_type: Platform.default.OS\n        });\n      } catch (error) {\n        console.error('Error getting push token:', error);\n      }\n    } else {\n      console.log('Must use physical device for Push Notifications');\n    }\n    return token;\n  };\n  const unregisterPushNotifications = async () => {\n    try {\n      await api.default.delete('/auth/push-token');\n    } catch (error) {\n      console.error('Error unregistering push token:', error);\n    }\n  };\n  const scheduleMedicationReminder = async (medicationId, drugName, dosage, scheduledTime, minutesBefore = 15) => {\n    try {\n      const trigger = new Date(scheduledTime.getTime() - minutesBefore * 60 * 1000);\n      await Notifications.scheduleNotificationAsync({\n        content: {\n          title: 'İlaç Hatırlatıcısı',\n          body: `${drugName} (${dosage}) alma zamanı yaklaşıyor`,\n          data: {\n            medicationId,\n            scheduledTime: scheduledTime.toISOString()\n          },\n          sound: true\n        },\n        trigger\n      });\n      console.log(`Reminder scheduled for ${drugName} at ${trigger}`);\n    } catch (error) {\n      console.error('Error scheduling reminder:', error);\n    }\n  };\n  const cancelMedicationReminder = async notificationId => {\n    try {\n      await Notifications.cancelScheduledNotificationAsync(notificationId);\n    } catch (error) {\n      console.error('Error canceling reminder:', error);\n    }\n  };\n  const cancelAllNotifications = async () => {\n    try {\n      await Notifications.cancelAllScheduledNotificationsAsync();\n    } catch (error) {\n      console.error('Error canceling all notifications:', error);\n    }\n  };\n});","lineCount":156,"map":[[27,2,15,0,"Object"],[27,8,15,0],[27,9,15,0,"defineProperty"],[27,23,15,0],[27,24,15,0,"exports"],[27,31,15,0],[28,4,15,0,"enumerable"],[28,14,15,0],[29,4,15,0,"get"],[29,7,15,0],[29,18,15,0,"get"],[29,19,15,0],[30,6,15,0],[30,13,15,0,"registerForPushNotificationsAsync"],[30,46,15,0],[31,4,15,0],[32,2,15,0],[33,2,60,0,"Object"],[33,8,60,0],[33,9,60,0,"defineProperty"],[33,23,60,0],[33,24,60,0,"exports"],[33,31,60,0],[34,4,60,0,"enumerable"],[34,14,60,0],[35,4,60,0,"get"],[35,7,60,0],[35,18,60,0,"get"],[35,19,60,0],[36,6,60,0],[36,13,60,0,"unregisterPushNotifications"],[36,40,60,0],[37,4,60,0],[38,2,60,0],[39,2,68,0,"Object"],[39,8,68,0],[39,9,68,0,"defineProperty"],[39,23,68,0],[39,24,68,0,"exports"],[39,31,68,0],[40,4,68,0,"enumerable"],[40,14,68,0],[41,4,68,0,"get"],[41,7,68,0],[41,18,68,0,"get"],[41,19,68,0],[42,6,68,0],[42,13,68,0,"scheduleMedicationReminder"],[42,39,68,0],[43,4,68,0],[44,2,68,0],[45,2,94,0,"Object"],[45,8,94,0],[45,9,94,0,"defineProperty"],[45,23,94,0],[45,24,94,0,"exports"],[45,31,94,0],[46,4,94,0,"enumerable"],[46,14,94,0],[47,4,94,0,"get"],[47,7,94,0],[47,18,94,0,"get"],[47,19,94,0],[48,6,94,0],[48,13,94,0,"cancelMedicationReminder"],[48,37,94,0],[49,4,94,0],[50,2,94,0],[51,2,102,0,"Object"],[51,8,102,0],[51,9,102,0,"defineProperty"],[51,23,102,0],[51,24,102,0,"exports"],[51,31,102,0],[52,4,102,0,"enumerable"],[52,14,102,0],[53,4,102,0,"get"],[53,7,102,0],[53,18,102,0,"get"],[53,19,102,0],[54,6,102,0],[54,13,102,0,"cancelAllNotifications"],[54,35,102,0],[55,4,102,0],[56,2,102,0],[57,2,1,0],[57,6,1,0,"_expoNotifications"],[57,24,1,0],[57,27,1,0,"require"],[57,34,1,0],[57,35,1,0,"_dependencyMap"],[57,49,1,0],[58,2,1,0],[58,6,1,0,"Notifications"],[58,19,1,0],[58,22,1,0,"_interopNamespace"],[58,39,1,0],[58,40,1,0,"_expoNotifications"],[58,58,1,0],[59,2,2,0],[59,6,2,0,"_expoDevice"],[59,17,2,0],[59,20,2,0,"require"],[59,27,2,0],[59,28,2,0,"_dependencyMap"],[59,42,2,0],[60,2,2,0],[60,6,2,0,"Device"],[60,12,2,0],[60,15,2,0,"_interopNamespace"],[60,32,2,0],[60,33,2,0,"_expoDevice"],[60,44,2,0],[61,2,2,38],[61,6,2,38,"_reactNativeWebDistExportsPlatform"],[61,40,2,38],[61,43,2,38,"require"],[61,50,2,38],[61,51,2,38,"_dependencyMap"],[61,65,2,38],[62,2,2,38],[62,6,2,38,"Platform"],[62,14,2,38],[62,17,2,38,"_interopDefault"],[62,32,2,38],[62,33,2,38,"_reactNativeWebDistExportsPlatform"],[62,67,2,38],[63,2,4,0],[63,6,4,0,"_api"],[63,10,4,0],[63,13,4,0,"require"],[63,20,4,0],[63,21,4,0,"_dependencyMap"],[63,35,4,0],[64,2,4,0],[64,6,4,0,"api"],[64,9,4,0],[64,12,4,0,"_interopDefault"],[64,27,4,0],[64,28,4,0,"_api"],[64,32,4,0],[65,2,6,0],[66,2,7,0,"Notifications"],[66,15,7,13],[66,16,7,14,"setNotificationHandler"],[66,38,7,36],[66,39,7,37],[67,4,8,2,"handleNotification"],[67,22,8,20],[67,24,8,22],[67,30,8,22,"handleNotification"],[67,31,8,22],[67,37,8,35],[68,6,9,4,"shouldShowAlert"],[68,21,9,19],[68,23,9,21],[68,27,9,25],[69,6,10,4,"shouldPlaySound"],[69,21,10,19],[69,23,10,21],[69,27,10,25],[70,6,11,4,"shouldSetBadge"],[70,20,11,18],[70,22,11,20],[71,4,12,2],[71,5,12,3],[72,2,13,0],[72,3,13,1],[72,4,13,2],[73,2,15,7],[73,8,15,13,"registerForPushNotificationsAsync"],[73,41,15,46],[73,44,15,49],[73,50,15,49,"registerForPushNotificationsAsync"],[73,51,15,49],[73,56,15,85],[74,4,16,2],[74,8,16,6,"token"],[74,13,16,26],[74,16,16,29],[74,20,16,33],[75,4,18,2],[75,8,18,6,"Platform"],[75,16,18,14],[75,17,18,14,"default"],[75,24,18,14],[75,25,18,15,"OS"],[75,27,18,17],[75,32,18,22],[75,41,18,31],[75,43,18,33],[76,6,19,4],[76,12,19,10,"Notifications"],[76,25,19,23],[76,26,19,24,"setNotificationChannelAsync"],[76,53,19,51],[76,54,19,52],[76,63,19,61],[76,65,19,63],[77,8,20,6,"name"],[77,12,20,10],[77,14,20,12],[77,23,20,21],[78,8,21,6,"importance"],[78,18,21,16],[78,20,21,18,"Notifications"],[78,33,21,31],[78,34,21,32,"AndroidImportance"],[78,51,21,49],[78,52,21,50,"MAX"],[78,55,21,53],[79,8,22,6,"vibrationPattern"],[79,24,22,22],[79,26,22,24],[79,27,22,25],[79,28,22,26],[79,30,22,28],[79,33,22,31],[79,35,22,33],[79,38,22,36],[79,40,22,38],[79,43,22,41],[79,44,22,42],[80,8,23,6,"lightColor"],[80,18,23,16],[80,20,23,18],[81,6,24,4],[81,7,24,5],[81,8,24,6],[82,4,25,2],[83,4,27,2],[83,8,27,6,"Device"],[83,14,27,12],[83,15,27,13,"isDevice"],[83,23,27,21],[83,25,27,23],[84,6,28,4],[84,12,28,10],[85,8,28,12,"status"],[85,14,28,18],[85,16,28,20,"existingStatus"],[86,6,28,35],[86,7,28,36],[86,10,28,39],[86,16,28,45,"Notifications"],[86,29,28,58],[86,30,28,59,"getPermissionsAsync"],[86,49,28,78],[86,50,28,79],[86,51,28,80],[87,6,29,4],[87,10,29,8,"finalStatus"],[87,21,29,19],[87,24,29,22,"existingStatus"],[87,38,29,36],[88,6,31,4],[88,10,31,8,"existingStatus"],[88,24,31,22],[88,29,31,27],[88,38,31,36],[88,40,31,38],[89,8,32,6],[89,14,32,12],[90,10,32,14,"status"],[91,8,32,21],[91,9,32,22],[91,12,32,25],[91,18,32,31,"Notifications"],[91,31,32,44],[91,32,32,45,"requestPermissionsAsync"],[91,55,32,68],[91,56,32,69],[91,57,32,70],[92,8,33,6,"finalStatus"],[92,19,33,17],[92,22,33,20,"status"],[92,28,33,26],[93,6,34,4],[94,6,36,4],[94,10,36,8,"finalStatus"],[94,21,36,19],[94,26,36,24],[94,35,36,33],[94,37,36,35],[95,8,37,6,"console"],[95,15,37,13],[95,16,37,14,"log"],[95,19,37,17],[95,20,37,18],[95,69,37,67],[95,70,37,68],[96,8,38,6],[96,15,38,13],[96,19,38,17],[97,6,39,4],[98,6,41,4],[98,10,41,8],[99,8,42,6,"token"],[99,13,42,11],[99,16,42,14],[99,17,42,15],[99,23,42,21,"Notifications"],[99,36,42,34],[99,37,42,35,"getExpoPushTokenAsync"],[99,58,42,56],[99,59,42,57],[99,60,42,58],[99,62,42,60,"data"],[99,66,42,64],[100,8,43,6,"console"],[100,15,43,13],[100,16,43,14,"log"],[100,19,43,17],[100,20,43,18],[100,33,43,31],[100,35,43,33,"token"],[100,40,43,38],[100,41,43,39],[102,8,45,6],[103,8,46,6],[103,14,46,12,"api"],[103,17,46,15],[103,18,46,15,"default"],[103,25,46,15],[103,26,46,16,"post"],[103,30,46,20],[103,31,46,21],[103,49,46,39],[103,51,46,41],[104,10,47,8,"token"],[104,15,47,13],[105,10,48,8,"device_type"],[105,21,48,19],[105,23,48,21,"Platform"],[105,31,48,29],[105,32,48,29,"default"],[105,39,48,29],[105,40,48,30,"OS"],[106,8,49,6],[106,9,49,7],[106,10,49,8],[107,6,50,4],[107,7,50,5],[107,8,50,6],[107,15,50,13,"error"],[107,20,50,18],[107,22,50,20],[108,8,51,6,"console"],[108,15,51,13],[108,16,51,14,"error"],[108,21,51,19],[108,22,51,20],[108,49,51,47],[108,51,51,49,"error"],[108,56,51,54],[108,57,51,55],[109,6,52,4],[110,4,53,2],[110,5,53,3],[110,11,53,9],[111,6,54,4,"console"],[111,13,54,11],[111,14,54,12,"log"],[111,17,54,15],[111,18,54,16],[111,67,54,65],[111,68,54,66],[112,4,55,2],[113,4,57,2],[113,11,57,9,"token"],[113,16,57,14],[114,2,58,0],[114,3,58,1],[115,2,60,7],[115,8,60,13,"unregisterPushNotifications"],[115,35,60,40],[115,38,60,43],[115,44,60,43,"unregisterPushNotifications"],[115,45,60,43],[115,50,60,55],[116,4,61,2],[116,8,61,6],[117,6,62,4],[117,12,62,10,"api"],[117,15,62,13],[117,16,62,13,"default"],[117,23,62,13],[117,24,62,14,"delete"],[117,30,62,20],[117,31,62,21],[117,49,62,39],[117,50,62,40],[118,4,63,2],[118,5,63,3],[118,6,63,4],[118,13,63,11,"error"],[118,18,63,16],[118,20,63,18],[119,6,64,4,"console"],[119,13,64,11],[119,14,64,12,"error"],[119,19,64,17],[119,20,64,18],[119,53,64,51],[119,55,64,53,"error"],[119,60,64,58],[119,61,64,59],[120,4,65,2],[121,2,66,0],[121,3,66,1],[122,2,68,7],[122,8,68,13,"scheduleMedicationReminder"],[122,34,68,39],[122,37,68,42],[122,43,68,42,"scheduleMedicationReminder"],[122,44,69,2,"medicationId"],[122,56,69,22],[122,58,70,2,"drugName"],[122,66,70,18],[122,68,71,2,"dosage"],[122,74,71,16],[122,76,72,2,"scheduledTime"],[122,89,72,21],[122,91,73,2,"minutesBefore"],[122,104,73,23],[122,107,73,26],[122,109,73,28],[122,114,74,5],[123,4,75,2],[123,8,75,6],[124,6,76,4],[124,12,76,10,"trigger"],[124,19,76,17],[124,22,76,20],[124,26,76,24,"Date"],[124,30,76,28],[124,31,76,29,"scheduledTime"],[124,44,76,42],[124,45,76,43,"getTime"],[124,52,76,50],[124,53,76,51],[124,54,76,52],[124,57,76,55,"minutesBefore"],[124,70,76,68],[124,73,76,71],[124,75,76,73],[124,78,76,76],[124,82,76,80],[124,83,76,81],[125,6,78,4],[125,12,78,10,"Notifications"],[125,25,78,23],[125,26,78,24,"scheduleNotificationAsync"],[125,51,78,49],[125,52,78,50],[126,8,79,6,"content"],[126,15,79,13],[126,17,79,15],[127,10,80,8,"title"],[127,15,80,13],[127,17,80,15],[127,37,80,35],[128,10,81,8,"body"],[128,14,81,12],[128,16,81,14],[128,19,81,17,"drugName"],[128,27,81,25],[128,32,81,30,"dosage"],[128,38,81,36],[128,64,81,62],[129,10,82,8,"data"],[129,14,82,12],[129,16,82,14],[130,12,82,16,"medicationId"],[130,24,82,28],[131,12,82,30,"scheduledTime"],[131,25,82,43],[131,27,82,45,"scheduledTime"],[131,40,82,58],[131,41,82,59,"toISOString"],[131,52,82,70],[131,53,82,71],[132,10,82,73],[132,11,82,74],[133,10,83,8,"sound"],[133,15,83,13],[133,17,83,15],[134,8,84,6],[134,9,84,7],[135,8,85,6,"trigger"],[136,6,86,4],[136,7,86,5],[136,8,86,6],[137,6,88,4,"console"],[137,13,88,11],[137,14,88,12,"log"],[137,17,88,15],[137,18,88,16],[137,44,88,42,"drugName"],[137,52,88,50],[137,59,88,57,"trigger"],[137,66,88,64],[137,68,88,66],[137,69,88,67],[138,4,89,2],[138,5,89,3],[138,6,89,4],[138,13,89,11,"error"],[138,18,89,16],[138,20,89,18],[139,6,90,4,"console"],[139,13,90,11],[139,14,90,12,"error"],[139,19,90,17],[139,20,90,18],[139,48,90,46],[139,50,90,48,"error"],[139,55,90,53],[139,56,90,54],[140,4,91,2],[141,2,92,0],[141,3,92,1],[142,2,94,7],[142,8,94,13,"cancelMedicationReminder"],[142,32,94,37],[142,35,94,40],[142,41,94,47,"notificationId"],[142,55,94,69],[142,59,94,74],[143,4,95,2],[143,8,95,6],[144,6,96,4],[144,12,96,10,"Notifications"],[144,25,96,23],[144,26,96,24,"cancelScheduledNotificationAsync"],[144,58,96,56],[144,59,96,57,"notificationId"],[144,73,96,71],[144,74,96,72],[145,4,97,2],[145,5,97,3],[145,6,97,4],[145,13,97,11,"error"],[145,18,97,16],[145,20,97,18],[146,6,98,4,"console"],[146,13,98,11],[146,14,98,12,"error"],[146,19,98,17],[146,20,98,18],[146,47,98,45],[146,49,98,47,"error"],[146,54,98,52],[146,55,98,53],[147,4,99,2],[148,2,100,0],[148,3,100,1],[149,2,102,7],[149,8,102,13,"cancelAllNotifications"],[149,30,102,35],[149,33,102,38],[149,39,102,38,"cancelAllNotifications"],[149,40,102,38],[149,45,102,50],[150,4,103,2],[150,8,103,6],[151,6,104,4],[151,12,104,10,"Notifications"],[151,25,104,23],[151,26,104,24,"cancelAllScheduledNotificationsAsync"],[151,62,104,60],[151,63,104,61],[151,64,104,62],[152,4,105,2],[152,5,105,3],[152,6,105,4],[152,13,105,11,"error"],[152,18,105,16],[152,20,105,18],[153,6,106,4,"console"],[153,13,106,11],[153,14,106,12,"error"],[153,19,106,17],[153,20,106,18],[153,56,106,54],[153,58,106,56,"error"],[153,63,106,61],[153,64,106,62],[154,4,107,2],[155,2,108,0],[155,3,108,1],[156,0,108,2],[156,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","registerForPushNotificationsAsync","unregisterPushNotifications","scheduleMedicationReminder","cancelMedicationReminder","cancelAllNotifications"],"mappings":"AAA;sBCO;IDI;iDEG;CF2C;2CGE;CHM;0CIE;CJwB;wCKE;CLM;sCME;CNM"},"hasCjsExports":false},"type":"js/module"}]}