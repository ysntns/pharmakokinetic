{"dependencies":[{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":36,"index":36}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"@tanstack/react-query","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":37},"end":{"line":2,"column":73,"index":110}}],"key":"Pzwu/0TIyhnZOrC9PAkpZx92hFo=","exportNames":["*"],"imports":1}},{"name":"react-native-safe-area-context","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":111},"end":{"line":3,"column":66,"index":177}}],"key":"XjdTKvCUWX6CbQzg5fSDHG/WgHk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":178},"end":{"line":4,"column":34,"index":212}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../store/appStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":213},"end":{"line":5,"column":48,"index":261}}],"key":"/bohzyw2mCiLwBL1LhK3cj9dt4o=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":262},"end":{"line":6,"column":42,"index":304}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"../services/notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":305},"end":{"line":7,"column":78,"index":383}}],"key":"PilFUkBfYpg1cVGLNRiWDw/oULQ=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/app/_layout.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return RootLayout;\n    }\n  });\n  var _expoRouter = require(_dependencyMap[0], \"expo-router\");\n  var _tanstackReactQuery = require(_dependencyMap[1], \"@tanstack/react-query\");\n  var _reactNativeSafeAreaContext = require(_dependencyMap[2], \"react-native-safe-area-context\");\n  var _react = require(_dependencyMap[3], \"react\");\n  var _storeAppStore = require(_dependencyMap[4], \"../store/appStore\");\n  var _servicesApi = require(_dependencyMap[5], \"../services/api\");\n  var _servicesNotifications = require(_dependencyMap[6], \"../services/notifications\");\n  var _reactJsxDevRuntime = require(_dependencyMap[7], \"react/jsx-dev-runtime\");\n  const queryClient = new _tanstackReactQuery.QueryClient();\n  function RootLayout() {\n    const {\n      setUser,\n      setToken,\n      setAuthenticated\n    } = (0, _storeAppStore.useAppStore)();\n    (0, _react.useEffect)(() => {\n      // Check for existing token on app load\n      const checkAuth = async () => {\n        try {\n          const token = await _servicesApi.authAPI.getToken();\n          if (token) {\n            setToken(token);\n            const user = await _servicesApi.authAPI.getMe();\n            setUser(user);\n            setAuthenticated(true);\n\n            // Register for push notifications after successful auth\n            await (0, _servicesNotifications.registerForPushNotificationsAsync)();\n          }\n        } catch (error) {\n          console.error('Auth check failed:', error);\n          await _servicesApi.authAPI.removeToken();\n          setAuthenticated(false);\n        }\n      };\n      checkAuth();\n    }, []);\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_tanstackReactQuery.QueryClientProvider, {\n      client: queryClient,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNativeSafeAreaContext.SafeAreaProvider, {\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack, {\n          screenOptions: {\n            headerShown: false\n          },\n          children: [/*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n            name: \"index\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 11\n          }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n            name: \"login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 11\n          }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n            name: \"register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 11\n          }, this), /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_expoRouter.Stack.Screen, {\n            name: \"(tabs)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }, this);\n  }\n});","lineCount":99,"map":[[8,2,11,15,"Object"],[8,8,11,15],[8,9,11,15,"defineProperty"],[8,23,11,15],[8,24,11,15,"exports"],[8,31,11,15],[9,4,11,15,"enumerable"],[9,14,11,15],[10,4,11,15,"get"],[10,7,11,15],[10,18,11,15,"get"],[10,19,11,15],[11,6,11,15],[11,13,11,15,"RootLayout"],[11,23,11,15],[12,4,11,15],[13,2,11,15],[14,2,1,0],[14,6,1,0,"_expoRouter"],[14,17,1,0],[14,20,1,0,"require"],[14,27,1,0],[14,28,1,0,"_dependencyMap"],[14,42,1,0],[15,2,2,0],[15,6,2,0,"_tanstackReactQuery"],[15,25,2,0],[15,28,2,0,"require"],[15,35,2,0],[15,36,2,0,"_dependencyMap"],[15,50,2,0],[16,2,3,0],[16,6,3,0,"_reactNativeSafeAreaContext"],[16,33,3,0],[16,36,3,0,"require"],[16,43,3,0],[16,44,3,0,"_dependencyMap"],[16,58,3,0],[17,2,4,0],[17,6,4,0,"_react"],[17,12,4,0],[17,15,4,0,"require"],[17,22,4,0],[17,23,4,0,"_dependencyMap"],[17,37,4,0],[18,2,5,0],[18,6,5,0,"_storeAppStore"],[18,20,5,0],[18,23,5,0,"require"],[18,30,5,0],[18,31,5,0,"_dependencyMap"],[18,45,5,0],[19,2,6,0],[19,6,6,0,"_servicesApi"],[19,18,6,0],[19,21,6,0,"require"],[19,28,6,0],[19,29,6,0,"_dependencyMap"],[19,43,6,0],[20,2,7,0],[20,6,7,0,"_servicesNotifications"],[20,28,7,0],[20,31,7,0,"require"],[20,38,7,0],[20,39,7,0,"_dependencyMap"],[20,53,7,0],[21,2,7,78],[21,6,7,78,"_reactJsxDevRuntime"],[21,25,7,78],[21,28,7,78,"require"],[21,35,7,78],[21,36,7,78,"_dependencyMap"],[21,50,7,78],[22,2,9,0],[22,8,9,6,"queryClient"],[22,19,9,17],[22,22,9,20],[22,26,9,24,"QueryClient"],[22,45,9,35],[22,46,9,35,"QueryClient"],[22,57,9,35],[22,58,9,36],[22,59,9,37],[23,2,11,15],[23,11,11,24,"RootLayout"],[23,21,11,34,"RootLayout"],[23,22,11,34],[23,24,11,37],[24,4,12,2],[24,10,12,8],[25,6,12,10,"setUser"],[25,13,12,17],[26,6,12,19,"setToken"],[26,14,12,27],[27,6,12,29,"setAuthenticated"],[28,4,12,46],[28,5,12,47],[28,8,12,50],[28,12,12,50,"useAppStore"],[28,26,12,61],[28,27,12,61,"useAppStore"],[28,38,12,61],[28,40,12,62],[28,41,12,63],[29,4,14,2],[29,8,14,2,"useEffect"],[29,14,14,11],[29,15,14,11,"useEffect"],[29,24,14,11],[29,26,14,12],[29,32,14,18],[30,6,15,4],[31,6,16,4],[31,12,16,10,"checkAuth"],[31,21,16,19],[31,24,16,22],[31,30,16,22,"checkAuth"],[31,31,16,22],[31,36,16,34],[32,8,17,6],[32,12,17,10],[33,10,18,8],[33,16,18,14,"token"],[33,21,18,19],[33,24,18,22],[33,30,18,28,"authAPI"],[33,42,18,35],[33,43,18,35,"authAPI"],[33,50,18,35],[33,51,18,36,"getToken"],[33,59,18,44],[33,60,18,45],[33,61,18,46],[34,10,19,8],[34,14,19,12,"token"],[34,19,19,17],[34,21,19,19],[35,12,20,10,"setToken"],[35,20,20,18],[35,21,20,19,"token"],[35,26,20,24],[35,27,20,25],[36,12,21,10],[36,18,21,16,"user"],[36,22,21,20],[36,25,21,23],[36,31,21,29,"authAPI"],[36,43,21,36],[36,44,21,36,"authAPI"],[36,51,21,36],[36,52,21,37,"getMe"],[36,57,21,42],[36,58,21,43],[36,59,21,44],[37,12,22,10,"setUser"],[37,19,22,17],[37,20,22,18,"user"],[37,24,22,22],[37,25,22,23],[38,12,23,10,"setAuthenticated"],[38,28,23,26],[38,29,23,27],[38,33,23,31],[38,34,23,32],[40,12,25,10],[41,12,26,10],[41,18,26,16],[41,22,26,16,"registerForPushNotificationsAsync"],[41,44,26,49],[41,45,26,49,"registerForPushNotificationsAsync"],[41,78,26,49],[41,80,26,50],[41,81,26,51],[42,10,27,8],[43,8,28,6],[43,9,28,7],[43,10,28,8],[43,17,28,15,"error"],[43,22,28,20],[43,24,28,22],[44,10,29,8,"console"],[44,17,29,15],[44,18,29,16,"error"],[44,23,29,21],[44,24,29,22],[44,44,29,42],[44,46,29,44,"error"],[44,51,29,49],[44,52,29,50],[45,10,30,8],[45,16,30,14,"authAPI"],[45,28,30,21],[45,29,30,21,"authAPI"],[45,36,30,21],[45,37,30,22,"removeToken"],[45,48,30,33],[45,49,30,34],[45,50,30,35],[46,10,31,8,"setAuthenticated"],[46,26,31,24],[46,27,31,25],[46,32,31,30],[46,33,31,31],[47,8,32,6],[48,6,33,4],[48,7,33,5],[49,6,35,4,"checkAuth"],[49,15,35,13],[49,16,35,14],[49,17,35,15],[50,4,36,2],[50,5,36,3],[50,7,36,5],[50,9,36,7],[50,10,36,8],[51,4,38,2],[51,24,39,4],[51,28,39,4,"_reactJsxDevRuntime"],[51,47,39,4],[51,48,39,4,"jsxDEV"],[51,54,39,4],[51,56,39,5,"_tanstackReactQuery"],[51,75,39,24],[51,76,39,24,"QueryClientProvider"],[51,95,39,24],[52,6,39,25,"client"],[52,12,39,31],[52,14,39,33,"queryClient"],[52,25,39,45],[53,6,39,45,"children"],[53,14,39,45],[53,29,40,6],[53,33,40,6,"_reactJsxDevRuntime"],[53,52,40,6],[53,53,40,6,"jsxDEV"],[53,59,40,6],[53,61,40,7,"_reactNativeSafeAreaContext"],[53,88,40,23],[53,89,40,23,"SafeAreaProvider"],[53,105,40,23],[54,8,40,23,"children"],[54,16,40,23],[54,31,41,8],[54,35,41,8,"_reactJsxDevRuntime"],[54,54,41,8],[54,55,41,8,"jsxDEV"],[54,61,41,8],[54,63,41,9,"_expoRouter"],[54,74,41,14],[54,75,41,14,"Stack"],[54,80,41,14],[55,10,41,15,"screenOptions"],[55,23,41,28],[55,25,41,30],[56,12,41,32,"headerShown"],[56,23,41,43],[56,25,41,45],[57,10,41,51],[57,11,41,53],[58,10,41,53,"children"],[58,18,41,53],[58,34,42,10],[58,38,42,10,"_reactJsxDevRuntime"],[58,57,42,10],[58,58,42,10,"jsxDEV"],[58,64,42,10],[58,66,42,11,"_expoRouter"],[58,77,42,16],[58,78,42,16,"Stack"],[58,83,42,16],[58,84,42,17,"Screen"],[58,90,42,23],[59,12,42,24,"name"],[59,16,42,28],[59,18,42,29],[60,10,42,36],[61,12,42,36,"fileName"],[61,20,42,36],[61,22,42,36,"_jsxFileName"],[61,34,42,36],[62,12,42,36,"lineNumber"],[62,22,42,36],[63,12,42,36,"columnNumber"],[63,24,42,36],[64,10,42,36],[64,17,42,38],[64,18,42,39],[64,33,43,10],[64,37,43,10,"_reactJsxDevRuntime"],[64,56,43,10],[64,57,43,10,"jsxDEV"],[64,63,43,10],[64,65,43,11,"_expoRouter"],[64,76,43,16],[64,77,43,16,"Stack"],[64,82,43,16],[64,83,43,17,"Screen"],[64,89,43,23],[65,12,43,24,"name"],[65,16,43,28],[65,18,43,29],[66,10,43,36],[67,12,43,36,"fileName"],[67,20,43,36],[67,22,43,36,"_jsxFileName"],[67,34,43,36],[68,12,43,36,"lineNumber"],[68,22,43,36],[69,12,43,36,"columnNumber"],[69,24,43,36],[70,10,43,36],[70,17,43,38],[70,18,43,39],[70,33,44,10],[70,37,44,10,"_reactJsxDevRuntime"],[70,56,44,10],[70,57,44,10,"jsxDEV"],[70,63,44,10],[70,65,44,11,"_expoRouter"],[70,76,44,16],[70,77,44,16,"Stack"],[70,82,44,16],[70,83,44,17,"Screen"],[70,89,44,23],[71,12,44,24,"name"],[71,16,44,28],[71,18,44,29],[72,10,44,39],[73,12,44,39,"fileName"],[73,20,44,39],[73,22,44,39,"_jsxFileName"],[73,34,44,39],[74,12,44,39,"lineNumber"],[74,22,44,39],[75,12,44,39,"columnNumber"],[75,24,44,39],[76,10,44,39],[76,17,44,41],[76,18,44,42],[76,33,45,10],[76,37,45,10,"_reactJsxDevRuntime"],[76,56,45,10],[76,57,45,10,"jsxDEV"],[76,63,45,10],[76,65,45,11,"_expoRouter"],[76,76,45,16],[76,77,45,16,"Stack"],[76,82,45,16],[76,83,45,17,"Screen"],[76,89,45,23],[77,12,45,24,"name"],[77,16,45,28],[77,18,45,29],[78,10,45,37],[79,12,45,37,"fileName"],[79,20,45,37],[79,22,45,37,"_jsxFileName"],[79,34,45,37],[80,12,45,37,"lineNumber"],[80,22,45,37],[81,12,45,37,"columnNumber"],[81,24,45,37],[82,10,45,37],[82,17,45,39],[82,18,45,40],[83,8,45,40],[84,10,45,40,"fileName"],[84,18,45,40],[84,20,45,40,"_jsxFileName"],[84,32,45,40],[85,10,45,40,"lineNumber"],[85,20,45,40],[86,10,45,40,"columnNumber"],[86,22,45,40],[87,8,45,40],[87,15,46,15],[88,6,46,16],[89,8,46,16,"fileName"],[89,16,46,16],[89,18,46,16,"_jsxFileName"],[89,30,46,16],[90,8,46,16,"lineNumber"],[90,18,46,16],[91,8,46,16,"columnNumber"],[91,20,46,16],[92,6,46,16],[92,13,47,24],[93,4,47,25],[94,6,47,25,"fileName"],[94,14,47,25],[94,16,47,25,"_jsxFileName"],[94,28,47,25],[95,6,47,25,"lineNumber"],[95,16,47,25],[96,6,47,25,"columnNumber"],[96,18,47,25],[97,4,47,25],[97,11,48,25],[97,12,48,26],[98,2,50,0],[99,0,50,1],[99,3]],"functionMap":{"names":["<global>","RootLayout","useEffect$argument_0","checkAuth"],"mappings":"AAA;eCU;YCG;sBCE;KDiB;GDG;CDc"},"hasCjsExports":false},"type":"js/module"}]}